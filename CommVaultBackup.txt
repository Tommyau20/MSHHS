Below is the information provided by Ben, when I was inquiring about flat file data retention for the Hanwell vendor.  This information should help to serve as a guide/information to what happens with all MSSQL flat file backups.



********************** START - Email to vendor **********************

Hi Gregory,
 
Ok, so the problem is that we can’t provide point in time restore of a database for period beyond 28 days… it just not possible given the amount of backup files we would need to store.
 
What currently happens is the flat files (bak, dif and trn) created today by SQL agent will;
 
	· Stay on the local server for 48 hours before they are deleted.  This enables our enterprise backup software (Commvault) to copy these files into the Commvault short term storage.
	· On the same day each week the flat files (bak, dif and trn) are rolled into a Full within Commvault that represents all files currently still on the server (so approximately the most recent 48 hours worth of flat files).
	· At the end of the month on the day of the week the full is usually created, the current flat files (bak, dif and trn) that are on the server are copied by Commvault for an end of month back which has a retention period of ten years on tape (parallel to a few months on disk).
	· After 28 days, the files (bak, dif and trn) that were copied to the Commvault short term storage, that DO NOT belong to a Full are deleted, and after 70 days any Full which ARE NOT an end of month backup are deleted.
 
Hence the end result is;
 
	· We can provide point in time restore of the Hanwell database for 28 days.
	· Anything beyond 28 days, we can only restore to what was backed up at the end of each month and we can go back ten years for a monthly backup.
 
In short, if you wanted to restore the database specifically to today at 13:00 hours, 2 years from now… we cannot. Two years from now we would have to go to the backup taken for the end of this month and providing your data in the database was not created and then deleted before the end of the month, it should be there… especially in the case of your type of data, being records pushed by a  temperature sensors and not necessarily say, patient records that could be created and then inadvertently deleted by an end-user making a mistake in the same day, not making it to a monthly backup.
 
I guess the bottom line is, if you are only deleting data over 1.5 years old, then I believe this should meet Mandy’s needs.
 
I see no issue with your proposal of running your delete process every month, deleting data older than 18 months.
 
Any more questions, let me know.
David
 
P.S. Thanks to Ben for filling in the gaps for me around Commvault retention timeframes.

*********************** END - Email to vendor ***********************

